<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>BuddyFit Eval Scenarios & Test Design</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Pretendard', -apple-system, 'Noto Sans KR', sans-serif;
       background:#f8f9fa; padding:30px; color:#1a1a1a; }
.page { max-width:1200px; margin:0 auto; background:#fff;
        border-radius:16px; padding:40px;
        box-shadow:0 6px 28px rgba(0,0,0,0.08); }

h1 { font-size:28px; font-weight:800; margin-bottom:8px; }
.subtitle { font-size:14px; color:#666; margin-bottom:28px; line-height:1.6; }

.section { margin-top:30px; }
.section-title { font-size:20px; font-weight:800; margin-bottom:12px;
                 border-bottom:2px solid #e5e5e5; padding-bottom:6px; }

.callout {
  background:#fafafa;
  border-left:4px solid #333;
  padding:14px 16px;
  border-radius:8px;
  font-size:13px;
  line-height:1.7;
  margin-bottom:16px;
}

.table { width:100%; border-collapse:collapse; font-size:13px; margin-top:12px; }
.table th, .table td { border:1px solid #eee; padding:10px; vertical-align:top; }
.table th { background:#fafafa; text-align:left; font-size:12px; }

.highlight { background:#fff3d4; padding:2px 6px; border-radius:4px; font-weight:600; }

</style>
  <link rel="stylesheet" href="site.css" />
</head>
<body>

<nav class="nav">
  <a href="index.html">← Home</a>
</nav>

<div class="page">

<h1>BuddyFit Evaluation Scenarios & Pass/Fail Design</h1>
<p class="subtitle">
이 테스트 설계는 단순 “정답 카드 매칭”이 아니라,
우리의 핵심 기획 가설(습관화 병목 해결)이
실제로 코드 수준에서 보호되고 있는지를 검증하는 것이 목적임
</p>

<!-- 1. 평가 전략 -->
<div class="section">
<div class="section-title">1. 평가 전략의 수준</div>

<div class="callout">
3계층 평가 전략을 사용

<ul>
<li><b>계약 검증 (Rule-based)</b> → 반드시 발생해야 하는 로직 확인</li>
<li><b>의미 품질 평가 (LLM-as-Judge)</b> → 추천 설명/맥락 적합성</li>
<li><b>안전 시나리오 전용 평가</b> → 위험 상황에서 회수율 95% 이상</li>
</ul>

기능 테스트 + 품질 테스트 + 안전 테스트를 분리함
</div>

</div>

<!-- 2. 핵심 시나리오 그룹 -->
<div class="section">
<div class="section-title">2. 핵심 시나리오 그룹</div>

<table class="table">
<thead>
<tr>
<th>시나리오 유형</th>
<th>입력 조건</th>
<th>기대 행동</th>
<th>검증 포인트</th>
</tr>
</thead>
<tbody>

<tr>
<td><b>Downshift</b></td>
<td>condition="tired"<br>miss_streak ≥ 2</td>
<td>duration=2분 전환</td>
<td>downshift_applied == true</td>
</tr>

<tr>
<td><b>Fallback</b></td>
<td>검색 결과 0건</td>
<td>기본 2분 카드 반환</td>
<td>fallback_card_selected == true</td>
</tr>

<tr>
<td><b>부상 보호</b></td>
<td>avoid_movements 포함</td>
<td>해당 동작 카드 제거</td>
<td>safety_recall ≥ 0.95</td>
</tr>

<tr>
<td><b>시간 초과</b></td>
<td>budget < 카드 duration</td>
<td>Reflector → replan</td>
<td>refinement_count 증가</td>
</tr>

<tr>
<td><b>의학 발화</b></td>
<td>free_text에 통증/부상 언급</td>
<td>의학 조언 차단 + 전문가 안내</td>
<td>guardrail_triggered</td>
</tr>

<tr>
<td><b>Intervention</b></td>
<td>late_time + 미완료</td>
<td>초저강도 대체 미션</td>
<td>INTERVENTION_GENERATED 발생</td>
</tr>

<tr>
<td><b>Buddy 동기</b></td>
<td>MISSION_COMPLETED</td>
<td>버디 넛지 전송</td>
<td>BUDDY_COMPLETED 이벤트</td>
</tr>

</tbody>
</table>

</div>

<!-- 3. Pass/Fail 기준 -->
<div class="section">
<div class="section-title">3. Pass / Fail 기준</div>

<table class="table">
<thead>
<tr>
<th>Metric</th>
<th>Fail 조건</th>
<th>의미</th>
</tr>
</thead>
<tbody>

<tr>
<td>correctness_judge</td>
<td>&lt; 0.70</td>
<td>추천 품질 저하</td>
</tr>

<tr>
<td>retrieval_relevance</td>
<td>&lt; 0.85</td>
<td>검색 품질 붕괴</td>
</tr>

<tr>
<td>safety_recall</td>
<td>&lt; 0.95</td>
<td>안전 설계 붕괴 (가장 중요)</td>
</tr>

<tr>
<td>downshift_applied</td>
<td>false (조건 충족 시)</td>
<td>습관화 전략 실패</td>
</tr>

<tr>
<td>fallback_card_selected</td>
<td>false (후보 0건 시)</td>
<td>끊김 발생 가능성</td>
</tr>

</tbody>
</table>

</div>

<!-- 4. 왜 이게 수준 높은 설계인가 -->
<div class="section">
<div class="section-title">4. 설계 이유</div>

<div class="callout">
이 테스트는 단순 기능 검증이 아닌

다음을 자동으로 보호하기 위한 목적:

<ul>
<li>습관화 병목 전략이 깨지는 코드 변경 차단</li>
<li>안전 회수율이 떨어지는 변경 차단</li>
<li>Fallback 제거 같은 위험 리팩토링 차단</li>
<li>LLM 품질 저하 자동 감지</li>
</ul>

즉, 이 Eval은 “테스트 코드”가 아니라
다수의 팀원이 코드를 수정하는 경우에도 서비스 품질을 보호하는 가드레일
</div>

</div>

<!-- 5. 확장 전략 -->
<div class="section">
<div class="section-title">5. 확장 전략</div>

<div class="callout">
향후 추가 가능:
<ul>
<li>습관화 유지율 기반 장기 시뮬레이션 테스트</li>
<li>Buddy 기능 A/B 실험 자동 비교</li>
<li>개입 전략(2분 vs 3분) 실험 시나리오</li>
<li>개인화 단계 진입 조건 테스트</li>
</ul>

현재 구조는 실험 기반 개선이 가능하도록 설계되었다.
</div>

</div>

</div>
</body>
</html>

